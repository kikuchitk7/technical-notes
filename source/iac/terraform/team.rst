チーム開発における注意事項
=================================

- チーム開発においては、下記に注意する。

ソースコード管理
-----------------------
- tf ファイルをバージョン管理システム (Git など) で管理する。

.. warning::

    - tfstate ファイルをバージョン管理システムで管理しない。
    - tfstate ファイル (Terraform で管理している環境) を壊す原因になる。
        - 最新の tfstate ファイルを取得せずに apply してしまう。
        - apply した後に push を忘れる。

ブランチ戦略
------------------
- どのブランチで apply するかを決める。
    - master ブランチにマージしたら apply する。
    - develop ブランチはステージング環境に apply する。
    - master ブランチは本番環境に apply する。
    - など

レビュー
----------------
- 例えば、下記のレビューを実施する。

アーキテクチャレビュー
^^^^^^^^^^^^^^^^^^^^^^^^^^
- 方式変更など変更内容やその影響が大きい際に実施する。

コードレビュー
^^^^^^^^^^^^^^^^^^^
- 下記の観点に注意して実施する。

    - コードの一貫性
    - 変数やモジュール等の命名の分かりやすさ
    - 不要な依存関係の有無
    - コメントの分かりやすさ
    - パラメータのデフォルト値

.. warning::

    - Terraform のデフォルト値と AWS の API のデフォルト値が異なる場合があるので、注意すること。
    - 実際に、EC2 の AMI の "latest" が異なることがあった。(例はいずれ記載)

実行計画レビュー
^^^^^^^^^^^^^^^^^^^^^^


プルリクエストテンプレート
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Apply 戦略
-----------------

